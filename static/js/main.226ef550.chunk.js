(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{37:function(e,t,a){e.exports=a(74)},42:function(e,t,a){},43:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(42),a(13)),i=(a(43),a(17)),u=a.n(i),s=a(3),m=function(e){return{type:"SET_STORAGE",data:e}},f=Object(s.b)(null,(function(e){return{setData:function(t){e(function(e){return{type:"SET_CITY",data:e}}(t))}}}))((function(e){var t=e.setData,a=Object(n.useState)(""),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement("div",{className:"input"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l&&u.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(l,"&units=metric&APPID=").concat("6c2847c395792f9cf85a804db24ced16")).then((function(e){return t(e.data)}))}},r.a.createElement("input",{className:"input__search",onChange:function(e){return i(e.target.value)},placeholder:"search city...",type:"text"}),r.a.createElement("input",{className:"input__submit",disabled:""===l,value:"Search",type:"submit"})))})),d=(a(65),a(20)),h=(a(66),Object(s.b)((function(e){return{currentCity:e.currentCity,storage:e.storage}}),(function(e){return{setStorage:function(t){e(m(t))},addCity:function(t){e(function(e){return{type:"ADD_CITY",data:e}}(t))}}}))((function(e){var t=e.currentCity,a=e.setStorage,n=e.storage,c=e.addCity;return r.a.createElement("div",null,r.a.createElement("button",{className:"add",disabled:n.includes(t.name),onClick:function(){localStorage.setItem("fav",localStorage.getItem("fav")?JSON.stringify([].concat(Object(d.a)(JSON.parse(localStorage.getItem("fav"))),[t.name])):JSON.stringify([t.name])),c(t.name),a(JSON.parse(localStorage.getItem("fav")))}},"Add to favourite"))}))),E=Object(s.b)((function(e){return{currentCity:e.currentCity}}))((function(e){var t=e.currentCity;return r.a.createElement("div",{className:"searchedweather"},t?r.a.createElement("div",{className:"searchedweather__inner"},r.a.createElement("h1",null,t.name,", ",t.sys.country),r.a.createElement("h2",null,"".concat(Math.round(t.main.temp),"\xb0C")),r.a.createElement("p",null,"Max: ".concat(Math.round(t.main.temp_max),"\xb0C "),"Min: ".concat(Math.round(t.main.temp_min),"\xb0C ")),r.a.createElement(h,null)):r.a.createElement("h2",{className:"weather-empty"},"Search for any city"))})),p=(a(67),a(68),function(e){var t=e.setRefresh,a=e.refresh;return r.a.createElement("div",null,r.a.createElement("button",{className:"button",onClick:function(){t(!a),console.log("refreshed!")}},"Refresh"))}),g=Object(s.b)((function(e){return{id:e.id}}),(function(e){return{setStorage:function(t){e(m(t))},removeCity:function(t){e(function(e){return{type:"REMOVE_CITY",data:e}}(t))}}}))((function(e){var t=e.info,a=e.setStorage,c=e.removeCity,l=e.id;return Object(n.useEffect)((function(){localStorage.setItem("fav",JSON.stringify(l)),a(JSON.parse(localStorage.getItem("fav")))}),[l,a]),r.a.createElement("div",null,r.a.createElement("button",{className:"button delete",onClick:function(){c(t.name)}},"Delete"))})),b=(a(69),function(e){var t=e.info,a=e.setRefresh,n=e.refresh;return r.a.createElement("div",null,r.a.createElement(p,{setRefresh:a,refresh:n}),r.a.createElement(g,{info:t}))}),v=a(19),y=Object(s.b)((function(e){return{storage:e.storage}}))((function(e){var t=e.city,a=e.storage,c=Object(n.useState)(""),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(!1),f=Object(o.a)(m,2),d=f[0],h=f[1];return Object(n.useEffect)((function(){u.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&APPID=").concat("6c2847c395792f9cf85a804db24ced16")).then((function(e){return s(e.data)}))}),[a,d,t]),r.a.createElement("div",{className:"card"},i?r.a.createElement("div",{className:"card__inner"},r.a.createElement("h2",{className:"card__heading"},i.name,", ",i.sys.country),r.a.createElement("h3",null,"".concat(Math.round(i.main.temp),"\xb0C")),r.a.createElement("p",null,"Feels like: ".concat(Math.round(i.main.feels_like),"\xb0C")),r.a.createElement(b,{info:i,setRefresh:h,refresh:d}),r.a.createElement(v.b,{className:"card__link",to:{pathname:"/info",state:i}},"Show info")):null)})),S=Object(s.b)((function(e){return{storage:e.storage}}))((function(e){var t=e.storage;return r.a.createElement("div",{className:"cards"},t[0]?t.map((function(e,t){return r.a.createElement("div",{key:t.toString()},r.a.createElement(y,{city:e}))})):r.a.createElement("h2",{className:"favourite-empty"},"No choosen cities yet"))})),O=(a(71),function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(f,null),r.a.createElement("div",{className:"weather-container"},r.a.createElement(E,null),r.a.createElement(S,null)))}),C=(a(72),a(36)),N=a.n(C),_=function(e){var t=e.location,a=function(e){return N.a.unix(e).format("HH:mm")};return r.a.createElement("div",null,r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,t.state.name,", ",t.state.sys.country),r.a.createElement("h2",null,"".concat(Math.round(t.state.main.temp),"\xb0C")),r.a.createElement("h3",null,t.state.weather[0].main),r.a.createElement("h3",null,"Max: ".concat(Math.round(t.state.main.temp_max),"\xb0C")," ","Min: ".concat(Math.round(t.state.main.temp_min),"\xb0C")),r.a.createElement("h4",null,"Feels like: ".concat(Math.round(t.state.main.feels_like),"\xb0C")),r.a.createElement("h4",null,"Pressure: ",Math.round(t.state.main.pressure)+"mm","  Humidity: ",Math.round(t.state.main.humidity)+"%"),r.a.createElement("h5",null,"Wind speed: ",t.state.wind.speed+"m/s"),r.a.createElement("h5",null,"Sunrise: ",a(t.state.sys.sunrise),"  Sunset: ",a(t.state.sys.sunset))))},j=a(2),I=a(18),M=a(9),w={currentCity:"",storage:JSON.parse(localStorage.getItem("fav"))?JSON.parse(localStorage.getItem("fav")):"",id:localStorage.getItem("fav")?JSON.parse(localStorage.getItem("fav")):[]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return"SET_CITY"===t.type?Object(M.a)(Object(M.a)({},e),{},{currentCity:t.data}):"ADD_CITY"===t.type?Object(M.a)(Object(M.a)({},e),{},{id:[].concat(Object(d.a)(e.id),[t.data])}):"REMOVE_CITY"===t.type?Object(M.a)(Object(M.a)({},e),{},{id:e.id.filter((function(e){return e!==t.data}))}):"SET_STORAGE"===t.type?Object(M.a)(Object(M.a)({},e),{},{storage:t.data}):e},k=Object(I.b)(T),J=function(){return r.a.createElement(s.a,{store:k},r.a.createElement(v.a,null,r.a.createElement(j.c,null,r.a.createElement(j.a,{exact:!0,path:"/",component:O}),r.a.createElement(j.a,{path:"/info",component:_}))))};l.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.226ef550.chunk.js.map